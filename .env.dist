###> Symfony / App ###
APP_ENV=dev
APP_DEBUG=1
APP_SECRET=ChangeMe_AppSecretForDevOnly

APP_TITLE="E.N Shop API"
APP_VERSION=0.1.0

# URL de base de l'application (pour génération de liens, routing, etc.)
DEFAULT_URI=http://localhost:8000
DEFAULT_FRONT_URI=http://127.0.0.1:4000
###< Symfony / App ###


###> Base de données (PostgreSQL via docker-compose) ###
# Format Symfony / Doctrine pour PostgreSQL
# cf. docker-compose.yaml (service "database")
DATABASE_URL="postgresql://app:!ChangeMe!@database:5432/app?serverVersion=16&charset=utf8"

# Pour les tests : suffixe ajouté au nom de la base, généralement généré par PHPUnit
# Laisser vide par défaut, il sera géré par Symfony/PHPUnit
TEST_TOKEN=
###< Base de données ###


###> JWT / Authentification ###
# Chemins des clés JWT (fichiers non commités, générés en local)
# Exemple :
#  openssl genrsa -out config/jwt/private.pem -aes256 4096
#  openssl rsa -pubout -in config/jwt/private.pem -out config/jwt/public.pem
JWT_SECRET_KEY=%kernel.project_dir%/config/jwt/private.pem
JWT_PUBLIC_KEY=%kernel.project_dir%/config/jwt/public.pem

# Passphrase utilisée lors de la génération de la clé privée
JWT_PASSPHRASE=ChangeMe_JwtPassphraseForDevOnly

# Durée de vie des tokens JWT en secondes (ex: 3600 = 1h)
JWT_TTL=3600
###< JWT / Authentification ###


###> Mailer ###
# DSN du mailer pour l'environnement de dev.
# Exemple avec Mailpit (cf. docker-compose.override.yaml, ports 20906/20907)
MAILER_DSN=smtp://mailpit:1025

# Identifiants éventuels (si tu utilises un SMTP réel en dev, sinon laisser des valeurs factices)
MAILER_USER=dev@example.com
MAILER_PASSWORD=devpassword
MAILER_PORT=1025

# Adresse d’expédition principale et de réponse
MAILER_TO=contact@example.com
MAILER_REPLY=no-reply@example.com

# URLs front pour les liens d’activation / reset password envoyés par mail
MAILER_URI_FRONT_REGISTER_VALIDATION=http://localhost:3000/register/validate
MAILER_URI_FRONT_RESET_PASSWORD=http://localhost:3000/reset-password
###< Mailer ###


###> CORS ###
# Origines autorisées par NelmioCorsBundle
# En dev, on autorise généralement le front local (ex. React/Next)
# Exemple : ^https?://(localhost|127\.0\.0\.1)(:[0-9]+)?$
CORS_ALLOW_ORIGIN=^https?://(localhost|127\.0\.0\.1)(:[0-9]+)?$
###< CORS ###


###> Tokens applicatifs (inscription / reset) ###
# TTL en secondes pour les tokens d’activation de compte et de reset password
REGISTER_TOKEN_TTL=86400       # 24h
RESET_PASSWORD_TOKEN_TTL=3600  # 1h
###< Tokens applicatifs ###


###> Debug / Profiling ###
# Adresse du serveur VarDumper (optionnel, pour debug)
# Exemple pour utiliser symfony var-dumper-server en local : tcp://127.0.0.1:9912
VAR_DUMPER_SERVER=127.0.0.1:9912
###< Debug / Profiling ###


###> Lock (si tu utilises le composant Lock) ###
# Par défaut, on peut utiliser les fichiers pour le dev
LOCK_DSN=flock
###< Lock ###